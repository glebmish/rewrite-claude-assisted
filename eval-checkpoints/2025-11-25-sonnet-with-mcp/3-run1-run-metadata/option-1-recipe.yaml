---
type: specs.openrewrite.org/v1beta/recipe
name: com.example.tasks.UpgradeDropwizard3Comprehensive
displayName: Upgrade Dropwizard 2.x to 3.0 - Comprehensive Approach
description: |
  Comprehensive upgrade of Dropwizard from 2.1.12 to 3.0.0 including Java 17 upgrade,
  dependency updates, package migrations, and code cleanup. This approach uses broad
  recipes for complete migration coverage.
recipeList:
  # Step 1: Upgrade Java toolchain from 11 to 17
  - org.openrewrite.java.migrate.UpgradeJavaVersion:
      version: 17

  # Step 2: Upgrade all Dropwizard dependencies to 3.0.0
  - org.openrewrite.gradle.UpgradeDependencyVersion:
      groupId: io.dropwizard
      artifactId: "*"
      newVersion: 3.0.0

  # Step 3: Migrate package imports from io.dropwizard to io.dropwizard.core
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: io.dropwizard.Application
      newFullyQualifiedTypeName: io.dropwizard.core.Application

  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: io.dropwizard.Configuration
      newFullyQualifiedTypeName: io.dropwizard.core.Configuration

  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: io.dropwizard.setup.Bootstrap
      newFullyQualifiedTypeName: io.dropwizard.core.setup.Bootstrap

  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: io.dropwizard.setup.Environment
      newFullyQualifiedTypeName: io.dropwizard.core.setup.Environment

  # Step 4: Remove unnecessary @Override annotations from methods that no longer override
  - org.openrewrite.java.dropwizard.method.RemoveUnnecessaryOverride
